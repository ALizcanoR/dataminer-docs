## Configuring the database settings in Cube

To configure a general or “local” database:

1. In Cube, go to *Apps* > *System Center.*

2. In the *System Center* module, select the* Database* tab.

3. In the column on the left, select the Agent of which you want to configure the general database.

4. Specify the following database settings:

    | Property                     | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
    |--------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | Type                           | The type of database: *MySQL* or *MSSQL* for a DMA using a legacy database, *Cassandra* for a DMA that has been migrated to Cassandra.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
    | DB                             | Name of the database.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
    | DB Server                      | Name or IP address of the server that hosts the database.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
    | DSN                            | This setting is no longer used.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
    | Server                         | This setting is no longer used. Use the DB Server setting instead.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
    | Connection string              | Can be filled in instead of the other fields, in which case this string will be used to connect to the database.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
    | User                           | Username with which the DMA has to log on to the general database.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
    | Password                       | Password with which the DMA has to log on to the general database.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
    | Limit alarms by maximum number | Only available for legacy databases. Select this option to limit the total alarm records in the database by number.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
    | Maximum alarms                 | Only available for legacy databases. The maximum number of alarms that can be stored in the general database.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
    | Fallback minimum               | Only available for legacy databases. If the maximum alarms setting has been reached, the oldest alarms will automatically be deleted until the database contains exactly the number of alarms specified in the *Fallback Minimum* box.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
    | Limit alarms by months to keep | Deprecated from DataMiner 9.6.0/9.6.3 onwards. Use the TTL settings instead. See [Specifying TTL overrides](Specifying_TTL_overrides.md).<br> Select this option to limit the total alarm records in the database by date.<br> Note that for a Cassandra database, if a record has been stored with a particular *Months to keep* setting, this setting permanently applies to that record. For example, if a record has been stored with the *Months to keep* setting set to 3, and this is changed to 5 afterwards, the earlier record will still be removed after 3 months. Because of this, to make sure that it is clear that data will not be cleaned up immediately, when you change the *Months to keep* setting to a lower value after the migration to Cassandra, a warning message will be displayed. |
    | Months to keep                 | Deprecated from DataMiner 9.6.0/9.6.3 onwards. Use the TTL settings instead. See [Specifying TTL overrides](Specifying_TTL_overrides.md).<br> The number of months that the alarms will be kept in the general database. Note that in a Cassandra database, the maximum duration that a record can continue to exist is twenty years.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |

5. Click *Save*.

> [!NOTE]
> -  If you use a MSSQL database, an Microsoft SQL Server Enterprise Edition license is required if partitioned data tables are used. Otherwise, the Express edition is sufficient. To run Microsoft SQL Server 2019, Windows Server 2016 or higher is required.
> -  If you use an MSSQL database, prior to DataMiner v8.5.8, only user accounts of type NT AUTHORITY\\SYSTEM are supported. In more recent DataMiner versions, you can use other domain accounts, either by using a connection string containing “*Integrated Security=true;user id:Domain\\User Name;Password:PWD*”, or by setting the tag *\<IntegratedSecurity>* to true in *DB.xml*.
>
